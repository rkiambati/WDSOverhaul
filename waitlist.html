<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Join the Waitlist — WDS Overhaul</title>
  <link rel="stylesheet" href="styles.css" />
  <script defer src="main.js"></script>
</head>
<body>
  <header class="site-header">
    <div class="nav-wrap">
      <a class="brand" href="index.html"><span class="brand-mark">WDS</span></a>
      <nav class="nav">
        <a href="index.html#about">About</a>
        <a href="index.html#testimonials">Testimonials</a>
        <a href="index.html#faq">FAQ</a>
      </nav>
    </div>
    <div class="progress-bar" aria-hidden="true"></div>
  </header>

  <!-- Page hero -->
  <section class="page-hero night-slim">
    <div class="page-sky-stars" aria-hidden="true"></div>
    <div class="page-moon" aria-hidden="true"></div>

    <div class="container hero-center">
      <h1>Join the waitlist</h1>
      <p class="subtitle">Get early access to applications, prompts, and updates.</p>
      <div class="magnet-wrap">
        <a class="btn btn-primary magnet" href="#waitlist-form">Sign up</a>
      </div>
    </div>
  </section>

  <!-- Form -->
  <section class="section">
    <div class="container form-wrap">
      <div class="form-card">
        <h2 class="form-title">Your details</h2>

        <form id="waitlist-form" class="form-grid" autocomplete="on">
          <div class="form-row">
            <label>Full name
              <input class="input" type="text" name="name" required placeholder="Jordan Lee" />
            </label>
            <label>Email
              <input class="input" type="email" name="email" required placeholder="you@example.com" />
            </label>
          </div>

          <div class="form-row">
            <label>School / Org
              <input class="input" type="text" name="school" placeholder="Western / Club / Company" />
            </label>
            <label>Discipline
              <select class="input" name="discipline" required>
                <option value="" disabled selected>Select one</option>
                <option>Software</option>
                <option>Design</option>
                <option>Product</option>
                <option>Other</option>
              </select>
            </label>
          </div>

          <label>Anything we should know?
            <textarea class="input" name="notes" rows="4" placeholder="Interests, past projects, accessibility needs…"></textarea>
          </label>

          <label class="check">
            <input type="checkbox" name="consent" required />
            <span>Send me Overhaul updates. I can unsubscribe anytime.</span>
          </label>

          <div class="actions">
            <div class="magnet-wrap">
              <button class="btn btn-secondary magnet" type="submit">Join waitlist</button>
            </div>
            <span class="link-muted">No spam. Just event news.</span>
          </div>

          <p class="tiny-note">
            We only store the fields you submit here — <strong>no IP addresses or browser data.</strong>
          </p>
          <p id="waitlist-success" class="form-success" hidden>You’re on the list! Watch your inbox for updates.</p>
        </form>
      </div>
    </div>
  </section>

  <script>
    document.getElementById('waitlist-form')?.addEventListener('submit', async (e) => {
      e.preventDefault();
      const form = e.currentTarget;
      const data = Object.fromEntries(new FormData(form).entries());
      try {
        if (window.submitWaitlist) {
          await window.submitWaitlist(data);
        }
        form.reset();
        document.getElementById('waitlist-success').hidden = false;
      } catch (err) {
        console.error('Waitlist submit failed:', err);
        document.getElementById('waitlist-success').textContent = 'Something went wrong. Try again later.';
        document.getElementById('waitlist-success').hidden = false;
      }
    });
  </script>
</body>
</html>
