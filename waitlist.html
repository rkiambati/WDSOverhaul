<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Overhaul — Join Waitlist</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <style>
    .section{padding:96px 0}
    .wrap{max-width:760px;margin:0 auto;padding:0 16px}
    .glass{background:rgba(8,16,24,.6);border:1px solid rgba(255,255,255,.08);border-radius:18px;padding:20px;backdrop-filter:blur(8px)}
    .field{display:flex;flex-direction:column;gap:6px;margin:10px 0}
    .note{opacity:.8;font-size:.95rem}
    .center{text-align:center}
  </style>
</head>
<body class="page--dark">
  <main class="section">
    <div class="wrap" style="max-width:760px">
      <h1 class="center">Join the Overhaul waitlist</h1>
      <p class="note center">We’ll email key dates and openings. Saved locally on your device.</p>

      <form id="waitlist-form" class="glass" novalidate>
        <div class="field"><label for="wl-name">Name</label><input id="wl-name" name="name" required /></div>
        <div class="field"><label for="wl-email">Email</label><input id="wl-email" name="email" type="email" required /></div>
        <div class="field">
          <label for="wl-role">Role</label>
          <select id="wl-role" name="role" required>
            <option value="">Select...</option>
            <option>Student</option><option>Sponsor</option>
            <option>Mentor</option><option>Volunteer</option>
          </select>
        </div>
        <div class="field"><label for="wl-note">Note (optional)</label><textarea id="wl-note" name="note" rows="4"></textarea></div>
        <input type="text" id="city" name="city" style="position:absolute;left:-9999px" tabindex="-1" autocomplete="off" />
        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:8px">
          <span class="magnet-wrap"><button type="submit" class="btn btn-primary shimmer magnet">Save</button></span>
          <span class="magnet-wrap"><a href="/" class="btn btn-outline shimmer magnet">Back to site</a></span>
        </div>
        <p id="wl-status" class="note" role="status"></p>
      </form>
    </div>
  </main>

  <script src="/assets/js/forms.js"></script>
  <script src="/main.js"></script>
  <script>
    const form = document.getElementById('waitlist-form');
    const statusEl = document.getElementById('wl-status');
    form.addEventListener('submit', async (e) => {
  e.preventDefault();
  const fd = new FormData(form);
  if (fd.get('city')) return; // honeypot
  if (!fd.get('name') || !fd.get('email') || !fd.get('role')) {
    statusEl.textContent = "Please complete name, email, and role."; return;
  }
  statusEl.textContent = "Saving…";
  try{
    await postEntry('waitlist', {
      name: fd.get('name'),
      email: fd.get('email'),
      role: fd.get('role'),
      note: fd.get('note') || "",
      honey: fd.get('city') || ""
    });
    statusEl.textContent = "Saved. Thanks!";
    form.reset();
  }catch(err){
    statusEl.textContent = "Could not save. Please try again.";
    console.error(err);
  }
});
    // hidden owner shortcut
    window.addEventListener('keydown', e => { if (e.shiftKey && e.key.toLowerCase() === 'o') window.open('/admin.html','_blank','noopener'); });
  </script>
</body>

</html>
