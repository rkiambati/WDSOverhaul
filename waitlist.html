<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Overhaul â€” Join Waitlist</title>
  <link rel="stylesheet" href="/styles.css" />
  <style>
    .section {padding: 96px 0;}
    .wrap {max-width: 760px; margin: 0 auto; padding: 0 16px;}
    .glass {background: rgba(8,16,24,.6); border:1px solid rgba(255,255,255,.08); border-radius: 18px; padding: 20px; backdrop-filter: blur(8px);}
    .field {display:flex; flex-direction:column; gap:6px; margin:10px 0;}
    .note {opacity:.8; font-size:.95rem}
  </style>
</head>
<body>
  <main class="section">
    <div class="wrap">
      <h1 class="center">Join the Overhaul waitlist</h1>
      <p class="note center">We will email important dates and openings. This form does not send data to a server.</p>

      <form id="waitlist-form" class="glass" novalidate>
        <div class="field">
          <label for="wl-name">Name</label>
          <input id="wl-name" name="name" required />
        </div>
        <div class="field">
          <label for="wl-email">Email</label>
          <input id="wl-email" name="email" type="email" required />
        </div>
        <div class="field">
          <label for="wl-role">Role</label>
          <select id="wl-role" name="role" required>
            <option value="">Select...</option>
            <option>Student</option><option>Sponsor</option>
            <option>Mentor</option><option>Volunteer</option>
          </select>
        </div>
        <div class="field">
          <label for="wl-note">Note (optional)</label>
          <textarea id="wl-note" name="note" rows="4"></textarea>
        </div>

        <!-- honeypot -->
        <input type="text" id="city" name="city" style="position:absolute;left:-9999px" tabindex="-1" autocomplete="off" />

        <div style="display:flex; gap:12px; flex-wrap:wrap; margin-top:8px;">
          <button class="btn btn-primary" type="submit"><span>Save</span></button>
          <a class="btn btn-outline" href="/" rel="noopener"><span>Back to site</span></a>
        </div>
        <p id="wl-status" class="note" role="status"></p>
      </form>

      <!-- Owner hint: no visible links. Press Shift + O to open admin in a new tab. -->
    </div>
  </main>

  <script src="/assets/js/forms.js"></script>
  <script src="/main.js"></script>
  <script>
    const form = document.getElementById('waitlist-form');
    const statusEl = document.getElementById('wl-status');

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const fd = new FormData(form);
      if (fd.get('city')) return; // bot

      if (!fd.get('name') || !fd.get('email') || !fd.get('role')) {
        statusEl.textContent = "Please complete name, email, and role.";
        return;
      }

      saveEntry('waitlist', {
        name: fd.get('name'),
        email: fd.get('email'),
        role: fd.get('role'),
        note: fd.get('note') || ""
      });

      statusEl.textContent = "Saved on this device. Thank you.";
      form.reset();
    });

    // Owner shortcut
    window.addEventListener('keydown', e => {
      if (e.shiftKey && e.key.toLowerCase() === 'o') window.open('/admin.html', '_blank', 'noopener');
    });
  </script>
</body>
</html>
